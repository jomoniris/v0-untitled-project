-- Create vehicle_groups table if it doesn't exist
CREATE TABLE IF NOT EXISTS vehicle_groups (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  code VARCHAR(10) NOT NULL UNIQUE,
  description VARCHAR(100) NOT NULL,
  sip_code VARCHAR(10),
  class VARCHAR(50) NOT NULL,
  auto_allocate BOOLEAN NOT NULL DEFAULT TRUE,
  fuel_type VARCHAR(50) NOT NULL,
  tank_capacity INTEGER,
  doors INTEGER NOT NULL,
  suitcases INTEGER,
  pax INTEGER NOT NULL,
  bags INTEGER,
  min_age INTEGER,
  young_driver_limit INTEGER,
  max_age_limit INTEGER,
  driving_years INTEGER,
  senior_limit INTEGER,
  upgrade_mode VARCHAR(50),
  alternate_groups VARCHAR(50),
  image_path TEXT,
  created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);

-- Insert sample data
INSERT INTO vehicle_groups (
  code, 
  description, 
  sip_code, 
  class, 
  auto_allocate,
  fuel_type,
  tank_capacity,
  doors,
  suitcases,
  pax,
  bags,
  min_age,
  young_driver_limit,
  max_age_limit
) VALUES
(
  'ECON',
  'Economy',
  'ECAR',
  'economy',
  TRUE,
  'petrol',
  45,
  4,
  1,
  5,
  2,
  21,
  25,
  75
),
(
  'COMP',
  'Compact',
  'CCAR',
  'compact',
  TRUE,
  'petrol',
  50,
  4,
  2,
  5,
  2,
  21,
  25,
  75
),
(
  'PREM',
  'Premium',
  'PCAR',
  'premium',
  TRUE,
  'petrol',
  60,
  4,
  3,
  5,
  3,
  25,
  30,
  75
),
(
  'SUV',
  'SUV',
  'SFAR',
  'suv',
  TRUE,
  'diesel',
  70,
  5,
  4,
  7,
  4,
  25,
  30,
  75
)
ON CONFLICT (code) DO NOTHING;
